<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <OutputType>WinExe</OutputType>
    <TargetFramework>net48</TargetFramework>
    <UseWPF>true</UseWPF>

    <!-- Важно: C# 8.0 + отключаем implicit usings, чтобы не было ошибок -->
    <LangVersion>8.0</LangVersion>
    <ImplicitUsings>disable</ImplicitUsings>

    <!-- Обязательно оставить x64 -->
    <PlatformTarget>x64</PlatformTarget>

    <Nullable>enable</Nullable>
  </PropertyGroup>

  <ItemGroup>
    <None Remove="Assets\info.png" />
    <None Remove="Assets\logo.png" />
    <None Remove="Assets\nastr.png" />
    <None Remove="Assets\Next.png" />
    <None Remove="Assets\return.png" />
    <None Remove="Assets\Start.png" />
    <None Remove="Assets\Stop.png" />
    <None Remove="Assets\toggle_close.png" />
    <None Remove="Assets\toggle_open.png" />
  </ItemGroup>

  <!-- NuGet пакеты -->
  <ItemGroup>
    <PackageReference Include="EasyModbusTCP" Version="5.6.0" />
  </ItemGroup>

  <!-- Ссылки на DLL из папки lib -->
  <ItemGroup>
    <Reference Include="MvCodeReaderSDK.Net">
      <HintPath>lib\MvCodeReaderSDK.Net.dll</HintPath>
    </Reference>
    <Reference Include="MvCodeReaderCtrl">
      <HintPath>lib\MvCodeReaderCtrl.dll</HintPath>
    </Reference>
    <Reference Include="MvCodeReaderCtrlWrapper">
      <HintPath>lib\MvCodeReaderCtrlWrapper.dll</HintPath>
    </Reference>
  </ItemGroup>
  <ItemGroup>
    <Resource Include="Assets\info.png" />
    <Resource Include="Assets\logo.png" />
    <Resource Include="Assets\nastr.png" />
    <Resource Include="Assets\Next.png" />
    <Resource Include="Assets\return.png" />
    <Resource Include="Assets\Start.png" />
    <Resource Include="Assets\Stop.png" />
    <Resource Include="Assets\toggle_close.png" />
    <Resource Include="Assets\toggle_open.png" />
  </ItemGroup>

  <!-- Копирование всех файлов из lib в bin -->
  <ItemGroup>
    <None Update="lib\**\*.*">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
  </ItemGroup>

</Project>
